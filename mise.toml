[tools]
java = "corretto-21"
node = "22"

[tasks.node-install]
description = "installs node packages"
run = "npm install"

[tasks.shadow]
description = "start the app with hot reload"
run = "npx shadow-cljs watch app"

[tasks.sass]
description = "compile the styles with watching"
run = "npx sass --watch resources/scss/main.scss:resources/public/css/main.css"

[tasks.release]
description = "package for release"
run = "npm run release"

[tasks.default]
description = "Start up the app in dev mode"
run = "mise run shadow ::: sass"

[tasks.clj-kondo]
description = "Invoke the clj-kondo linter"
run = "shadow-cljs run clj-kondo.main/main --lint src"

[tasks.cljfmt-check]
description = "On a windows machine I run cljfmt from a bin"
run = "..\\cljfmt.exe check"

[tasks.cljfmt-fix]
description = "On a windows machine I run cljfmt from a bin"
run = "..\\cljfmt.exe fix"
